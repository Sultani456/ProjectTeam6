@startuml
title CMPT 276 Project - Arcade Game UML Class Diagram (Type-First Style)

' =============================
' Abstract and Base Classes
' =============================

abstract class GameObject {
  - Position position
  + Position getPosition()
  + void setPosition(Position pos)
}

abstract class Character {
  - Direction direction
  + void move(Direction direction)
  + boolean canMoveTo(Cell cell)
}

abstract class Enemy {
  - int speed
  + void moveToward(Position target)
}

abstract class Reward {
  - int value
  + void applyTo(MainCharacter player)
}

' =============================
' Concrete Classes
' =============================

class GameController {
  - Board board
  - MainCharacter player
  - List<Enemy> enemies
  - GameTimer timer
  - int score
  - boolean isGameOver
  + void startGame()
  + void updateGameTick()
  + void checkCollisions()
  + void checkWinCondition()
  + void endGame()
}

class Board {
  - Cell[][] grid
  - int width
  - int height
  - Cell startCell
  - Cell endCell
  + void loadMap(String filename)
  + Cell getCell(int x, int y)
  + boolean isValidMove(int x, int y)
}

class Cell {
  - int x
  - int y
  - GameObject content
  + boolean isEmpty()
  + void setContent(GameObject obj)
  + GameObject getContent()
}

class MainCharacter {
  - int score
  + void move(Direction direction)
  + void collectReward(Reward reward)
  + void applyPunishment(Punishment p)
}

class MovingEnemy {
  - PathFindingStrategy strategy
  + void moveToward(Position target)
}

class Punishment {
  - int penaltyAmount
  + void applyTo(MainCharacter player)
}

class RegularReward {
}

class BonusReward {
  - int duration
  - boolean isActive
  + void spawnRandomly()
  + void expire()
}

class Barrier {
}

class GameTimer {
  - long startTime
  - long elapsedTime
  + void start()
  + void tick()
  + long getElapsedTime()
}

class Position {
  - int x
  - int y
  + int getX()
  + int getY()
  + void set(int x, int y)
}

enum Direction {
  UP
  DOWN
  LEFT
  RIGHT
}

' =============================
' Relationships
' =============================

GameController *-- Board
GameController *-- MainCharacter
GameController *-- Enemy
GameController *-- GameTimer

Board *-- Cell
Cell o-- GameObject

Character <|-- MainCharacter
Character <|-- Enemy
Enemy <|-- MovingEnemy
Enemy <|-- Punishment

Reward <|-- RegularReward
Reward <|-- BonusReward

GameObject <|-- Character
GameObject <|-- Reward
GameObject <|-- Barrier

MainCharacter --> Reward : collects >
MainCharacter --> Punishment : penalized by >
MovingEnemy --> MainCharacter : chases >
Board --> Position
GameTimer --> GameController : reports time >

@enduml
